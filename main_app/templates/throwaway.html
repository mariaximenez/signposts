@method_decorator(login_required, name='dispatch')
class MyGroupDetail(TemplateView):
    template_name = "mygroup_detail.html"

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)      
        name = self.request.GET.get("name")
        context["profile"] = ProfileModel.objects.filter(user=self.request.user)
        return context


        def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["posts"] = PostModel.objects.all() 
        return context



        <div class="detail__container">
  
   
            {% for profile in profile.all %}
            <div class="museum">
              <span>{{forloop.counter}}</span>
              <span><b>{{group.name}}</b></span>
              <div class="detail__img">
                <img src="{{profile.group.goal_img}}" alt="{{profile.group.name}}" />
            </div>
              <span>{{profile.group.goal}}</span>
            </div>
                {% empty %}
            <article class="message">
              <div class="message-header">
                <p>No Group Available</p>
              </div>
            </article>
        
            {% endfor %}
          </div>
        <!--  above about section  -->


        {% extends 'base.html' %} 
{% block content %}

<div class="detail__container">
    {% for post in posts.all %}
    <div class="museum">
      <span>{{forloop.counter}}</span>
      <span><b>{{post.profiles}</b></span>
      <span>{{post.text}}</span>
      <span>{{post.date}}</span>
    </div>
		{% empty %}
    <article class="message">
      <div class="message-header">
        <p>No Post Available</p>
      </div>
    </article>

    {% endfor %}
  </div>
  </div>

  @property
  def badge_image(self):
      if self.user.post.count() >= 20:
           badge_image = 'https://media1.thehungryjpeg.com/thumbs2/800_3844600_uw12mjl5avul5fjmb2ori0y7ei42sr5ikz61jwio_watercolor-forest-path-set.png'
      elif self.user.post.count() >= 15:
           badge_image = 'main_app/images/path.png'
      elif self.user.post.count() >= 10:
           badge_image = 'main_app/images/wood.png'
      elif self.user.post.count() >= 5:
           badge_image = 'https://media1.thehungryjpeg.com/thumbs2/800_3844600_uw12mjl5avul5fjmb2ori0y7ei42sr5ikz61jwio_watercolor-forest-path-set.png'
      else:
           badge_image ='main_app/images/cloud.png/'
      return badge_image



{% endblock %}
